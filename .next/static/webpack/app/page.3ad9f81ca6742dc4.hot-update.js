"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./src/components/Chart/CandlestickChart.tsx":
/*!***************************************************!*\
  !*** ./src/components/Chart/CandlestickChart.tsx ***!
  \***************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CandlestickChart: function() { return /* binding */ CandlestickChart; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var lightweight_charts__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lightweight-charts */ \"(app-pages-browser)/./node_modules/lightweight-charts/dist/lightweight-charts.development.mjs\");\n/* harmony import */ var _services_api_cryptoCompareAPI__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/services/api/cryptoCompareAPI */ \"(app-pages-browser)/./src/services/api/cryptoCompareAPI.ts\");\n/* harmony import */ var _services_strategies__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/services/strategies */ \"(app-pages-browser)/./src/services/strategies/index.ts\");\n/* harmony import */ var _services_strategies_moving_averages__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/services/strategies/moving-averages */ \"(app-pages-browser)/./src/services/strategies/moving-averages.ts\");\n/* harmony import */ var _TickerHeader__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./TickerHeader */ \"(app-pages-browser)/./src/components/Chart/TickerHeader.tsx\");\n/* harmony import */ var _utils_priceFormat__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/utils/priceFormat */ \"(app-pages-browser)/./src/utils/priceFormat.ts\");\n/* __next_internal_client_entry_do_not_use__ CandlestickChart auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n// Function to get interval in seconds\nconst getIntervalSeconds = (tf)=>{\n    switch(tf){\n        case \"1m\":\n            return 60;\n        case \"5m\":\n            return 300;\n        case \"15m\":\n            return 900;\n        case \"30m\":\n            return 1800;\n        case \"1h\":\n            return 3600;\n        case \"4h\":\n            return 14400;\n        case \"1d\":\n            return 86400;\n        default:\n            return 60;\n    }\n};\nfunction CandlestickChart(param) {\n    let { timeframe, strategy, token = \"BTC\", baseToken = \"USDT\", exchange = \"CryptoCompare\", onPairChange = ()=>{}, signals = [] } = param;\n    _s();\n    const [selectedExchange, setSelectedExchange] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(exchange);\n    const [currentBaseToken, setCurrentBaseToken] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(baseToken);\n    const [currentPrice, setCurrentPrice] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(()=>(0,_utils_priceFormat__WEBPACK_IMPORTED_MODULE_7__.formatPrice)(0, baseToken));\n    const [priceStats, setPriceStats] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(()=>({\n            change1h: \"0.00\",\n            change24h: \"0.00\",\n            change7d: \"0.00\",\n            high24h: (0,_utils_priceFormat__WEBPACK_IMPORTED_MODULE_7__.formatPrice)(0, baseToken),\n            low24h: (0,_utils_priceFormat__WEBPACK_IMPORTED_MODULE_7__.formatPrice)(0, baseToken)\n        }));\n    const chartContainerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const chartRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const candlestickSeriesRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const indicatorSeriesRefs = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(new Map());\n    const markerSeriesRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const historicalDataRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)([]);\n    const currentCandleRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const lastSignalRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // Handle trading pair change\n    const handlePairChange = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((newToken, newBaseToken)=>{\n        onPairChange(newToken, newBaseToken);\n        setCurrentBaseToken(newBaseToken);\n    }, [\n        onPairChange\n    ]);\n    // Function to update price stats\n    const updatePriceStats = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async ()=>{\n        try {\n            // Get 1-minute data for accurate time-based calculations\n            const minuteData = await (0,_services_api_cryptoCompareAPI__WEBPACK_IMPORTED_MODULE_3__.getHistoricalData)(\"1m\", token, currentBaseToken);\n            if (!minuteData.length) return;\n            const currentPrice = minuteData[minuteData.length - 1].close;\n            const currentTime = Math.floor(Date.now() / 1000); // Current time in seconds\n            // Calculate time thresholds in seconds\n            const oneHourAgo = currentTime - 60 * 60;\n            const twentyFourHoursAgo = currentTime - 24 * 60 * 60;\n            const sevenDaysAgo = currentTime - 7 * 24 * 60 * 60;\n            // Filter data for each time period\n            const last1h = minuteData.filter((d)=>d.time >= oneHourAgo);\n            const last24h = minuteData.filter((d)=>d.time >= twentyFourHoursAgo);\n            const last7d = minuteData.filter((d)=>d.time >= sevenDaysAgo);\n            // Calculate high and low for 24h\n            const high24h = Math.max(...last24h.map((d)=>d.high));\n            const low24h = Math.min(...last24h.map((d)=>d.low));\n            // Calculate percentage changes\n            const getPercentChange = (periodData)=>{\n                if (periodData.length < 1) return 0;\n                const oldPrice = periodData[0].close;\n                return (currentPrice - oldPrice) / oldPrice * 100;\n            };\n            const change1h = getPercentChange(last1h);\n            const change24h = getPercentChange(last24h);\n            const change7d = getPercentChange(last7d);\n            // Format prices using the price format utility\n            const formattedHigh = (0,_utils_priceFormat__WEBPACK_IMPORTED_MODULE_7__.formatPrice)(high24h, currentBaseToken);\n            const formattedLow = (0,_utils_priceFormat__WEBPACK_IMPORTED_MODULE_7__.formatPrice)(low24h, currentBaseToken);\n            setPriceStats({\n                change1h: change1h.toFixed(2),\n                change24h: change24h.toFixed(2),\n                change7d: change7d.toFixed(2),\n                high24h: formattedHigh,\n                low24h: formattedLow\n            });\n        } catch (error) {\n            console.error(\"Error updating price stats:\", error);\n        }\n    }, [\n        token,\n        currentBaseToken\n    ]);\n    // Function to add strategy indicators\n    const addStrategyIndicators = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((chart, data)=>{\n        if (!chart) {\n            console.error(\"Chart is not initialized\");\n            return;\n        }\n        try {\n            // Clear any existing indicators\n            indicatorSeriesRefs.current.forEach((series)=>{\n                try {\n                    if (series && chart) {\n                        chart.removeSeries(series);\n                    }\n                } catch (e) {\n                    console.error(\"Error removing series:\", e);\n                }\n            });\n            indicatorSeriesRefs.current.clear();\n            if (markerSeriesRef.current) {\n                try {\n                    chart.removeSeries(markerSeriesRef.current);\n                } catch (e) {\n                    console.error(\"Error removing marker series:\", e);\n                }\n                markerSeriesRef.current = null;\n            }\n            if (strategy === \"none\") return;\n            // Calculate indicators based on strategy\n            const prices = data.map((d)=>d.close);\n            let fastLine = [];\n            let slowLine = [];\n            switch(strategy){\n                case \"ema_crossover\":\n                    fastLine = (0,_services_strategies_moving_averages__WEBPACK_IMPORTED_MODULE_5__.calculateEMA)(prices, 9);\n                    slowLine = (0,_services_strategies_moving_averages__WEBPACK_IMPORTED_MODULE_5__.calculateEMA)(prices, 21);\n                    break;\n                case \"sma_crossover\":\n                    fastLine = (0,_services_strategies_moving_averages__WEBPACK_IMPORTED_MODULE_5__.calculateSMA)(prices, 9);\n                    slowLine = (0,_services_strategies_moving_averages__WEBPACK_IMPORTED_MODULE_5__.calculateSMA)(prices, 21);\n                    break;\n                case \"tema_crossover\":\n                    fastLine = (0,_services_strategies_moving_averages__WEBPACK_IMPORTED_MODULE_5__.calculateTEMA)(prices, 7);\n                    slowLine = (0,_services_strategies_moving_averages__WEBPACK_IMPORTED_MODULE_5__.calculateTEMA)(prices, 21);\n                    break;\n                case \"golden_cross\":\n                    fastLine = (0,_services_strategies_moving_averages__WEBPACK_IMPORTED_MODULE_5__.calculateSMA)(prices, 50);\n                    slowLine = (0,_services_strategies_moving_averages__WEBPACK_IMPORTED_MODULE_5__.calculateSMA)(prices, 200);\n                    break;\n                case \"hull_crossover\":\n                    fastLine = (0,_services_strategies_moving_averages__WEBPACK_IMPORTED_MODULE_5__.calculateHMA)(prices, 9);\n                    slowLine = (0,_services_strategies_moving_averages__WEBPACK_IMPORTED_MODULE_5__.calculateHMA)(prices, 21);\n                    break;\n                case \"ema_5_13\":\n                    fastLine = (0,_services_strategies_moving_averages__WEBPACK_IMPORTED_MODULE_5__.calculateEMA)(prices, 5);\n                    slowLine = (0,_services_strategies_moving_averages__WEBPACK_IMPORTED_MODULE_5__.calculateEMA)(prices, 13);\n                    break;\n            }\n            // Add indicator lines\n            const selectedStrategy = (0,_services_strategies__WEBPACK_IMPORTED_MODULE_4__.getStrategy)(strategy);\n            if (!selectedStrategy) return;\n            const colors = [\n                \"#2962FF\",\n                \"#FF6B6B\"\n            ];\n            selectedStrategy.indicators.forEach((indicator, index)=>{\n                const lineSeries = chart.addLineSeries({\n                    color: colors[index],\n                    lineWidth: 2,\n                    title: indicator.name,\n                    priceFormat: {\n                        type: \"price\",\n                        precision: (0,_utils_priceFormat__WEBPACK_IMPORTED_MODULE_7__.isBTCPair)(currentBaseToken) ? 8 : 2,\n                        minMove: (0,_utils_priceFormat__WEBPACK_IMPORTED_MODULE_7__.isBTCPair)(currentBaseToken) ? 0.00000001 : 0.01\n                    }\n                });\n                indicatorSeriesRefs.current.set(indicator.name, lineSeries);\n                const lineData = (index === 0 ? fastLine : slowLine).map((value, idx)=>({\n                        time: data[idx].time,\n                        value: isNaN(value) ? null : value\n                    })).filter((d)=>d.value !== null);\n                lineSeries.setData(lineData);\n            });\n            // Add crossover signals with markers, text, and triangle shape\n            const markers = [];\n            for(let i = 1; i < data.length; i++){\n                const prevFast = fastLine[i - 1];\n                const prevSlow = slowLine[i - 1];\n                const currFast = fastLine[i];\n                const currSlow = slowLine[i];\n                if (!isNaN(prevFast) && !isNaN(prevSlow) && !isNaN(currFast) && !isNaN(currSlow)) {\n                    if (prevFast <= prevSlow && currFast > currSlow) {\n                        markers.push({\n                            time: data[i].time,\n                            position: \"belowBar\",\n                            color: \"#26a69a\",\n                            shape: \"arrowUp\",\n                            text: \"Buy\"\n                        });\n                    } else if (prevFast >= prevSlow && currFast < currSlow) {\n                        markers.push({\n                            time: data[i].time,\n                            position: \"aboveBar\",\n                            color: \"#ef5350\",\n                            shape: \"arrowDown\",\n                            text: \"Sell\"\n                        });\n                    }\n                }\n            }\n            markerSeriesRef.current = markers;\n        } catch (error) {\n            console.error(\"Error adding strategy indicators:\", error);\n        }\n    }, [\n        strategy,\n        currentBaseToken\n    ]);\n    // Effect for strategy changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!chartRef.current || historicalDataRef.current.length === 0) {\n            return;\n        }\n        try {\n            addStrategyIndicators(chartRef.current, historicalDataRef.current);\n        } catch (error) {\n            console.error(\"Error in strategy change effect:\", error);\n        }\n    }, [\n        strategy,\n        addStrategyIndicators\n    ]);\n    // Main chart initialization effect\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!chartContainerRef.current) return;\n        const chartOptions = {\n            layout: {\n                background: {\n                    color: \"#1E222D\"\n                },\n                textColor: \"#DDD\"\n            },\n            grid: {\n                vertLines: {\n                    color: \"#2B2B43\"\n                },\n                horzLines: {\n                    color: \"#2B2B43\"\n                }\n            },\n            timeScale: {\n                borderColor: \"#2B2B43\",\n                timeVisible: true\n            },\n            rightPriceScale: {\n                borderColor: \"#2B2B43\",\n                visible: true,\n                scaleMargins: {\n                    top: 0.1,\n                    bottom: 0.4\n                },\n                autoScale: true,\n                mode: 0,\n                alignLabels: true,\n                borderVisible: true,\n                entireTextOnly: true,\n                ticksVisible: true\n            },\n            width: chartContainerRef.current.clientWidth,\n            height: chartContainerRef.current.clientHeight,\n            localization: {\n                priceFormatter: (price)=>(0,_utils_priceFormat__WEBPACK_IMPORTED_MODULE_7__.formatPrice)(price, currentBaseToken)\n            }\n        };\n        const chart = (0,lightweight_charts__WEBPACK_IMPORTED_MODULE_2__.createChart)(chartContainerRef.current, chartOptions);\n        // Create candlestick series with price format\n        const candlestickSeries = chart.addCandlestickSeries({\n            upColor: \"#26a69a\",\n            downColor: \"#ef5350\",\n            borderVisible: false,\n            wickUpColor: \"#26a69a\",\n            wickDownColor: \"#ef5350\",\n            priceFormat: {\n                type: \"price\",\n                precision: (0,_utils_priceFormat__WEBPACK_IMPORTED_MODULE_7__.isBTCPair)(currentBaseToken) ? 8 : 2,\n                minMove: (0,_utils_priceFormat__WEBPACK_IMPORTED_MODULE_7__.isBTCPair)(currentBaseToken) ? 0.00000001 : 0.01\n            }\n        });\n        candlestickSeriesRef.current = candlestickSeries;\n        chartRef.current = chart;\n        // Load initial data\n        const loadData = async ()=>{\n            try {\n                const data = await (0,_services_api_cryptoCompareAPI__WEBPACK_IMPORTED_MODULE_3__.getHistoricalData)(timeframe, token, currentBaseToken);\n                historicalDataRef.current = data;\n                candlestickSeries.setData(data);\n                updatePriceStats();\n                // Set the current candle reference to the last candle\n                if (data.length > 0) {\n                    currentCandleRef.current = data[data.length - 1];\n                }\n                if (strategy !== \"none\") {\n                    addStrategyIndicators(chart, data);\n                }\n            } catch (error) {\n                console.error(\"Error loading data:\", error);\n            }\n        };\n        loadData();\n        // Real-time updates\n        const unsubscribe = (0,_services_api_cryptoCompareAPI__WEBPACK_IMPORTED_MODULE_3__.subscribeToPrice)((data)=>{\n            if (!candlestickSeriesRef.current) {\n                console.warn(\"Candlestick series not initialized\");\n                return;\n            }\n            // Update current price display immediately\n            const formattedPrice = (0,_utils_priceFormat__WEBPACK_IMPORTED_MODULE_7__.formatPrice)(data.value, currentBaseToken);\n            setCurrentPrice(formattedPrice);\n            const intervalSeconds = getIntervalSeconds(timeframe);\n            const candleTimestamp = Math.floor(data.time / intervalSeconds) * intervalSeconds;\n            // Update chart candles\n            if (!currentCandleRef.current || candleTimestamp !== currentCandleRef.current.time) {\n                if (currentCandleRef.current) {\n                    historicalDataRef.current.push(currentCandleRef.current);\n                }\n                const newCandle = {\n                    time: candleTimestamp,\n                    open: data.value,\n                    high: data.value,\n                    low: data.value,\n                    close: data.value\n                };\n                currentCandleRef.current = newCandle;\n                candlestickSeriesRef.current.update(newCandle);\n                if (strategy !== \"none\" && chartRef.current) {\n                    addStrategyIndicators(chartRef.current, historicalDataRef.current);\n                }\n            } else {\n                const updatedCandle = {\n                    ...currentCandleRef.current,\n                    high: Math.max(currentCandleRef.current.high, data.value),\n                    low: Math.min(currentCandleRef.current.low, data.value),\n                    close: data.value\n                };\n                currentCandleRef.current = updatedCandle;\n                candlestickSeriesRef.current.update(updatedCandle);\n            }\n            // Update price stats with all available data\n            if (historicalDataRef.current.length > 0) {\n                const allData = [\n                    ...historicalDataRef.current\n                ];\n                if (currentCandleRef.current) {\n                    allData.push(currentCandleRef.current);\n                }\n                updatePriceStats();\n            }\n        }, timeframe, token, currentBaseToken);\n        // Handle window resize\n        const handleResize = ()=>{\n            if (chartContainerRef.current && chartRef.current) {\n                chartRef.current.applyOptions({\n                    width: chartContainerRef.current.clientWidth,\n                    height: chartContainerRef.current.clientHeight\n                });\n            }\n        };\n        window.addEventListener(\"resize\", handleResize);\n        return ()=>{\n            window.removeEventListener(\"resize\", handleResize);\n            unsubscribe();\n            if (chartRef.current) {\n                indicatorSeriesRefs.current.forEach((series)=>{\n                    try {\n                        var _chartRef_current;\n                        (_chartRef_current = chartRef.current) === null || _chartRef_current === void 0 ? void 0 : _chartRef_current.removeSeries(series);\n                    } catch (e) {\n                        console.error(\"Error removing indicator series during cleanup:\", e);\n                    }\n                });\n                indicatorSeriesRefs.current.clear();\n                if (markerSeriesRef.current) {\n                    try {\n                        chartRef.current.removeSeries(markerSeriesRef.current);\n                    } catch (e) {\n                        console.error(\"Error removing marker series during cleanup:\", e);\n                    }\n                    markerSeriesRef.current = null;\n                }\n                chart.remove();\n            }\n        };\n    }, [\n        timeframe,\n        currentBaseToken,\n        strategy,\n        token,\n        updatePriceStats,\n        addStrategyIndicators\n    ]);\n    // Ensure markers are set on the candlestick series\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (candlestickSeriesRef.current && markerSeriesRef.current) {\n            candlestickSeriesRef.current.setMarkers(markerSeriesRef.current);\n        }\n    }, [\n        markerSeriesRef.current\n    ]);\n    // Helper function to calculate indicators\n    const calculateIndicator = (prices, type, period)=>{\n        switch(type){\n            case \"ema\":\n                return (0,_services_strategies_moving_averages__WEBPACK_IMPORTED_MODULE_5__.calculateEMA)(prices, period);\n            case \"sma\":\n                return (0,_services_strategies_moving_averages__WEBPACK_IMPORTED_MODULE_5__.calculateSMA)(prices, period);\n            case \"tema\":\n                return (0,_services_strategies_moving_averages__WEBPACK_IMPORTED_MODULE_5__.calculateTEMA)(prices, period);\n            case \"hma\":\n                return (0,_services_strategies_moving_averages__WEBPACK_IMPORTED_MODULE_5__.calculateHMA)(prices, period);\n            default:\n                return [];\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex flex-col w-full h-full\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_TickerHeader__WEBPACK_IMPORTED_MODULE_6__.TickerHeader, {\n                token: token,\n                baseToken: currentBaseToken,\n                exchange: selectedExchange,\n                currentPrice: currentPrice,\n                priceStats: priceStats,\n                onExchangeChange: setSelectedExchange,\n                onPairChange: handlePairChange\n            }, void 0, false, {\n                fileName: \"E:\\\\Programming\\\\ZugaCrypto\\\\src\\\\components\\\\Chart\\\\CandlestickChart.tsx\",\n                lineNumber: 483,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                ref: chartContainerRef,\n                className: \"flex-1\"\n            }, void 0, false, {\n                fileName: \"E:\\\\Programming\\\\ZugaCrypto\\\\src\\\\components\\\\Chart\\\\CandlestickChart.tsx\",\n                lineNumber: 492,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"E:\\\\Programming\\\\ZugaCrypto\\\\src\\\\components\\\\Chart\\\\CandlestickChart.tsx\",\n        lineNumber: 482,\n        columnNumber: 5\n    }, this);\n}\n_s(CandlestickChart, \"X/2PR85ZyF09U/+WSBIrlQi9Pb4=\");\n_c = CandlestickChart;\nvar _c;\n$RefreshReg$(_c, \"CandlestickChart\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL0NoYXJ0L0NhbmRsZXN0aWNrQ2hhcnQudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUVpRTtBQUNoQjtBQUNnRDtBQUNqQjtBQU9qQztBQUNEO0FBUWpCO0FBb0I3QixzQ0FBc0M7QUFDdEMsTUFBTWUscUJBQXFCLENBQUNDO0lBQzFCLE9BQVFBO1FBQ04sS0FBSztZQUFNLE9BQU87UUFDbEIsS0FBSztZQUFNLE9BQU87UUFDbEIsS0FBSztZQUFPLE9BQU87UUFDbkIsS0FBSztZQUFPLE9BQU87UUFDbkIsS0FBSztZQUFNLE9BQU87UUFDbEIsS0FBSztZQUFNLE9BQU87UUFDbEIsS0FBSztZQUFNLE9BQU87UUFDbEI7WUFBUyxPQUFPO0lBQ2xCO0FBQ0Y7QUFFTyxTQUFTQyxpQkFBaUIsS0FRVDtRQVJTLEVBQy9CQyxTQUFTLEVBQ1RDLFFBQVEsRUFDUkMsUUFBUSxLQUFLLEVBQ2JDLFlBQVksTUFBTSxFQUNsQkMsV0FBVyxlQUFlLEVBQzFCQyxlQUFlLEtBQU8sQ0FBQyxFQUN2QkMsVUFBVSxFQUFFLEVBQ1UsR0FSUzs7SUFTL0IsTUFBTSxDQUFDQyxrQkFBa0JDLG9CQUFvQixHQUFHeEIsK0NBQVFBLENBQUNvQjtJQUN6RCxNQUFNLENBQUNLLGtCQUFrQkMsb0JBQW9CLEdBQUcxQiwrQ0FBUUEsQ0FBQ21CO0lBQ3pELE1BQU0sQ0FBQ1EsY0FBY0MsZ0JBQWdCLEdBQUc1QiwrQ0FBUUEsQ0FBUyxJQUFNVywrREFBV0EsQ0FBQyxHQUFHUTtJQUM5RSxNQUFNLENBQUNVLFlBQVlDLGNBQWMsR0FBRzlCLCtDQUFRQSxDQUFDLElBQU87WUFDbEQrQixVQUFVO1lBQ1ZDLFdBQVc7WUFDWEMsVUFBVTtZQUNWQyxTQUFTdkIsK0RBQVdBLENBQUMsR0FBR1E7WUFDeEJnQixRQUFReEIsK0RBQVdBLENBQUMsR0FBR1E7UUFDekI7SUFFQSxNQUFNaUIsb0JBQW9CckMsNkNBQU1BLENBQWlCO0lB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QzVKO1FBQVdTO1FBQWtCUjtRQUFVQztRQUFPOEI7UUFBa0IrQjtLQUFzQjtJQUUxRixtREFBbUQ7SUFDbkRqRixnREFBU0EsQ0FBQztRQUNSLElBQUl3QyxxQkFBcUI0QyxPQUFPLElBQUl6QyxnQkFBZ0J5QyxPQUFPLEVBQUU7WUFDM0Q1QyxxQkFBcUI0QyxPQUFPLENBQUMyRixVQUFVLENBQUNwSSxnQkFBZ0J5QyxPQUFPO1FBQ2pFO0lBQ0YsR0FBRztRQUFDekMsZ0JBQWdCeUMsT0FBTztLQUFDO0lBRTVCLDBDQUEwQztJQUMxQyxNQUFNNEYscUJBQXFCLENBQUN0RixRQUFrQmUsTUFBY3dFO1FBQzFELE9BQVF4RTtZQUNOLEtBQUs7Z0JBQ0gsT0FBT2pHLGtGQUFZQSxDQUFDa0YsUUFBUXVGO1lBQzlCLEtBQUs7Z0JBQ0gsT0FBT3hLLGtGQUFZQSxDQUFDaUYsUUFBUXVGO1lBQzlCLEtBQUs7Z0JBQ0gsT0FBT3ZLLG1GQUFhQSxDQUFDZ0YsUUFBUXVGO1lBQy9CLEtBQUs7Z0JBQ0gsT0FBT3RLLGtGQUFZQSxDQUFDK0UsUUFBUXVGO1lBQzlCO2dCQUNFLE9BQU8sRUFBRTtRQUNiO0lBQ0Y7SUFFQSxxQkFDRSw4REFBQ0M7UUFBSUMsV0FBVTs7MEJBQ2IsOERBQUN2Syx1REFBWUE7Z0JBQ1hRLE9BQU9BO2dCQUNQQyxXQUFXTTtnQkFDWEwsVUFBVUc7Z0JBQ1ZJLGNBQWNBO2dCQUNkRSxZQUFZQTtnQkFDWnFKLGtCQUFrQjFKO2dCQUNsQkgsY0FBY3dCOzs7Ozs7MEJBRWhCLDhEQUFDbUk7Z0JBQUlHLEtBQUsvSTtnQkFBbUI2SSxXQUFVOzs7Ozs7Ozs7Ozs7QUFHN0M7R0F2YmdCbEs7S0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vc3JjL2NvbXBvbmVudHMvQ2hhcnQvQ2FuZGxlc3RpY2tDaGFydC50c3g/OGQ0NCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XG5pbXBvcnQgeyBUaW1lLCBJQ2hhcnRBcGksIENoYXJ0T3B0aW9ucywgRGVlcFBhcnRpYWwsIExpbmVXaWR0aCwgQnVzaW5lc3NEYXksIFVUQ1RpbWVzdGFtcCB9IGZyb20gJ2xpZ2h0d2VpZ2h0LWNoYXJ0cyc7XG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlU3RhdGUsIHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY3JlYXRlQ2hhcnQgfSBmcm9tICdsaWdodHdlaWdodC1jaGFydHMnO1xuaW1wb3J0IHsgZ2V0SGlzdG9yaWNhbERhdGEsIHN1YnNjcmliZVRvUHJpY2UsIFRpbWVmcmFtZSB9IGZyb20gJ0Avc2VydmljZXMvYXBpL2NyeXB0b0NvbXBhcmVBUEknO1xuaW1wb3J0IHsgU3RyYXRlZ3lJZCwgZ2V0U3RyYXRlZ3ksIFN0cmF0ZWd5U2lnbmFsIH0gZnJvbSAnQC9zZXJ2aWNlcy9zdHJhdGVnaWVzJztcbmltcG9ydCB7IFxuICBjYWxjdWxhdGVFTUEsXG4gIGNhbGN1bGF0ZVNNQSxcbiAgY2FsY3VsYXRlVEVNQSxcbiAgY2FsY3VsYXRlSE1BLFxuICBjYWxjdWxhdGVNQUNEXG59IGZyb20gJ0Avc2VydmljZXMvc3RyYXRlZ2llcy9tb3ZpbmctYXZlcmFnZXMnO1xuaW1wb3J0IHsgVGlja2VySGVhZGVyIH0gZnJvbSAnLi9UaWNrZXJIZWFkZXInO1xuaW1wb3J0IHsgXG4gIGdldENoYXJ0UHJpY2VGb3JtYXQsIFxuICBnZXRTY2FsZUZvcm1hdCwgXG4gIGZvcm1hdFByaWNlLCBcbiAgaXNCVENQYWlyLFxuICBERUZBVUxUX0JUQ19GT1JNQVQsXG4gIERFRkFVTFRfVVNEVF9GT1JNQVRcbn0gZnJvbSAnQC91dGlscy9wcmljZUZvcm1hdCc7XG5cbmludGVyZmFjZSBDYW5kbGVzdGlja0NoYXJ0UHJvcHMge1xuICB0aW1lZnJhbWU6IFRpbWVmcmFtZTtcbiAgc3RyYXRlZ3k6IFN0cmF0ZWd5SWQ7XG4gIHRva2VuPzogc3RyaW5nO1xuICBiYXNlVG9rZW4/OiBzdHJpbmc7XG4gIGV4Y2hhbmdlPzogc3RyaW5nO1xuICBvblBhaXJDaGFuZ2U/OiAodG9rZW46IHN0cmluZywgYmFzZVRva2VuOiBzdHJpbmcpID0+IHZvaWQ7XG4gIHNpZ25hbHM/OiBTdHJhdGVneVNpZ25hbFtdO1xufVxuXG5pbnRlcmZhY2UgQ2FuZGxlIHtcbiAgdGltZTogVGltZTtcbiAgb3BlbjogbnVtYmVyO1xuICBoaWdoOiBudW1iZXI7XG4gIGxvdzogbnVtYmVyO1xuICBjbG9zZTogbnVtYmVyO1xufVxuXG4vLyBGdW5jdGlvbiB0byBnZXQgaW50ZXJ2YWwgaW4gc2Vjb25kc1xuY29uc3QgZ2V0SW50ZXJ2YWxTZWNvbmRzID0gKHRmOiBUaW1lZnJhbWUpOiBudW1iZXIgPT4ge1xuICBzd2l0Y2ggKHRmKSB7XG4gICAgY2FzZSAnMW0nOiByZXR1cm4gNjA7XG4gICAgY2FzZSAnNW0nOiByZXR1cm4gMzAwO1xuICAgIGNhc2UgJzE1bSc6IHJldHVybiA5MDA7XG4gICAgY2FzZSAnMzBtJzogcmV0dXJuIDE4MDA7XG4gICAgY2FzZSAnMWgnOiByZXR1cm4gMzYwMDtcbiAgICBjYXNlICc0aCc6IHJldHVybiAxNDQwMDtcbiAgICBjYXNlICcxZCc6IHJldHVybiA4NjQwMDtcbiAgICBkZWZhdWx0OiByZXR1cm4gNjA7XG4gIH1cbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBDYW5kbGVzdGlja0NoYXJ0KHsgXG4gIHRpbWVmcmFtZSwgXG4gIHN0cmF0ZWd5LCBcbiAgdG9rZW4gPSAnQlRDJywgXG4gIGJhc2VUb2tlbiA9ICdVU0RUJyxcbiAgZXhjaGFuZ2UgPSAnQ3J5cHRvQ29tcGFyZScsXG4gIG9uUGFpckNoYW5nZSA9ICgpID0+IHt9LFxuICBzaWduYWxzID0gW11cbn06IENhbmRsZXN0aWNrQ2hhcnRQcm9wcykge1xuICBjb25zdCBbc2VsZWN0ZWRFeGNoYW5nZSwgc2V0U2VsZWN0ZWRFeGNoYW5nZV0gPSB1c2VTdGF0ZShleGNoYW5nZSk7XG4gIGNvbnN0IFtjdXJyZW50QmFzZVRva2VuLCBzZXRDdXJyZW50QmFzZVRva2VuXSA9IHVzZVN0YXRlKGJhc2VUb2tlbik7XG4gIGNvbnN0IFtjdXJyZW50UHJpY2UsIHNldEN1cnJlbnRQcmljZV0gPSB1c2VTdGF0ZTxzdHJpbmc+KCgpID0+IGZvcm1hdFByaWNlKDAsIGJhc2VUb2tlbikpO1xuICBjb25zdCBbcHJpY2VTdGF0cywgc2V0UHJpY2VTdGF0c10gPSB1c2VTdGF0ZSgoKSA9PiAoe1xuICAgIGNoYW5nZTFoOiAnMC4wMCcsXG4gICAgY2hhbmdlMjRoOiAnMC4wMCcsXG4gICAgY2hhbmdlN2Q6ICcwLjAwJyxcbiAgICBoaWdoMjRoOiBmb3JtYXRQcmljZSgwLCBiYXNlVG9rZW4pLFxuICAgIGxvdzI0aDogZm9ybWF0UHJpY2UoMCwgYmFzZVRva2VuKVxuICB9KSk7XG5cbiAgY29uc3QgY2hhcnRDb250YWluZXJSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpO1xuICBjb25zdCBjaGFydFJlZiA9IHVzZVJlZjxJQ2hhcnRBcGkgfCBudWxsPihudWxsKTtcbiAgY29uc3QgY2FuZGxlc3RpY2tTZXJpZXNSZWYgPSB1c2VSZWY8YW55PihudWxsKTtcbiAgY29uc3QgaW5kaWNhdG9yU2VyaWVzUmVmcyA9IHVzZVJlZjxNYXA8c3RyaW5nLCBhbnk+PihuZXcgTWFwKCkpO1xuICBjb25zdCBtYXJrZXJTZXJpZXNSZWYgPSB1c2VSZWY8YW55PihudWxsKTtcbiAgY29uc3QgaGlzdG9yaWNhbERhdGFSZWYgPSB1c2VSZWY8YW55W10+KFtdKTtcbiAgY29uc3QgY3VycmVudENhbmRsZVJlZiA9IHVzZVJlZjxhbnk+KG51bGwpO1xuICBjb25zdCBsYXN0U2lnbmFsUmVmID0gdXNlUmVmPHsgdGltZTogbnVtYmVyLCB0eXBlOiAnYnV5JyB8ICdzZWxsJyB9IHwgbnVsbD4obnVsbCk7XG5cbiAgLy8gSGFuZGxlIHRyYWRpbmcgcGFpciBjaGFuZ2VcbiAgY29uc3QgaGFuZGxlUGFpckNoYW5nZSA9IHVzZUNhbGxiYWNrKChuZXdUb2tlbjogc3RyaW5nLCBuZXdCYXNlVG9rZW46IHN0cmluZykgPT4ge1xuICAgIG9uUGFpckNoYW5nZShuZXdUb2tlbiwgbmV3QmFzZVRva2VuKTtcbiAgICBzZXRDdXJyZW50QmFzZVRva2VuKG5ld0Jhc2VUb2tlbik7XG4gIH0sIFtvblBhaXJDaGFuZ2VdKTtcblxuICAvLyBGdW5jdGlvbiB0byB1cGRhdGUgcHJpY2Ugc3RhdHNcbiAgY29uc3QgdXBkYXRlUHJpY2VTdGF0cyA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgLy8gR2V0IDEtbWludXRlIGRhdGEgZm9yIGFjY3VyYXRlIHRpbWUtYmFzZWQgY2FsY3VsYXRpb25zXG4gICAgICBjb25zdCBtaW51dGVEYXRhID0gYXdhaXQgZ2V0SGlzdG9yaWNhbERhdGEoJzFtJywgdG9rZW4sIGN1cnJlbnRCYXNlVG9rZW4pO1xuICAgICAgaWYgKCFtaW51dGVEYXRhLmxlbmd0aCkgcmV0dXJuO1xuXG4gICAgICBjb25zdCBjdXJyZW50UHJpY2UgPSBtaW51dGVEYXRhW21pbnV0ZURhdGEubGVuZ3RoIC0gMV0uY2xvc2U7XG4gICAgICBjb25zdCBjdXJyZW50VGltZSA9IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApOyAvLyBDdXJyZW50IHRpbWUgaW4gc2Vjb25kc1xuICAgICAgXG4gICAgICAvLyBDYWxjdWxhdGUgdGltZSB0aHJlc2hvbGRzIGluIHNlY29uZHNcbiAgICAgIGNvbnN0IG9uZUhvdXJBZ28gPSBjdXJyZW50VGltZSAtICg2MCAqIDYwKTtcbiAgICAgIGNvbnN0IHR3ZW50eUZvdXJIb3Vyc0FnbyA9IGN1cnJlbnRUaW1lIC0gKDI0ICogNjAgKiA2MCk7XG4gICAgICBjb25zdCBzZXZlbkRheXNBZ28gPSBjdXJyZW50VGltZSAtICg3ICogMjQgKiA2MCAqIDYwKTtcbiAgICAgIFxuICAgICAgLy8gRmlsdGVyIGRhdGEgZm9yIGVhY2ggdGltZSBwZXJpb2RcbiAgICAgIGNvbnN0IGxhc3QxaCA9IG1pbnV0ZURhdGEuZmlsdGVyKGQgPT4gZC50aW1lID49IG9uZUhvdXJBZ28pO1xuICAgICAgY29uc3QgbGFzdDI0aCA9IG1pbnV0ZURhdGEuZmlsdGVyKGQgPT4gZC50aW1lID49IHR3ZW50eUZvdXJIb3Vyc0Fnbyk7XG4gICAgICBjb25zdCBsYXN0N2QgPSBtaW51dGVEYXRhLmZpbHRlcihkID0+IGQudGltZSA+PSBzZXZlbkRheXNBZ28pO1xuICAgICAgXG4gICAgICAvLyBDYWxjdWxhdGUgaGlnaCBhbmQgbG93IGZvciAyNGhcbiAgICAgIGNvbnN0IGhpZ2gyNGggPSBNYXRoLm1heCguLi5sYXN0MjRoLm1hcChkID0+IGQuaGlnaCkpO1xuICAgICAgY29uc3QgbG93MjRoID0gTWF0aC5taW4oLi4ubGFzdDI0aC5tYXAoZCA9PiBkLmxvdykpO1xuICAgICAgXG4gICAgICAvLyBDYWxjdWxhdGUgcGVyY2VudGFnZSBjaGFuZ2VzXG4gICAgICBjb25zdCBnZXRQZXJjZW50Q2hhbmdlID0gKHBlcmlvZERhdGE6IGFueVtdKSA9PiB7XG4gICAgICAgIGlmIChwZXJpb2REYXRhLmxlbmd0aCA8IDEpIHJldHVybiAwO1xuICAgICAgICBjb25zdCBvbGRQcmljZSA9IHBlcmlvZERhdGFbMF0uY2xvc2U7XG4gICAgICAgIHJldHVybiAoKGN1cnJlbnRQcmljZSAtIG9sZFByaWNlKSAvIG9sZFByaWNlKSAqIDEwMDtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGNoYW5nZTFoID0gZ2V0UGVyY2VudENoYW5nZShsYXN0MWgpO1xuICAgICAgY29uc3QgY2hhbmdlMjRoID0gZ2V0UGVyY2VudENoYW5nZShsYXN0MjRoKTtcbiAgICAgIGNvbnN0IGNoYW5nZTdkID0gZ2V0UGVyY2VudENoYW5nZShsYXN0N2QpO1xuICAgICAgXG4gICAgICAvLyBGb3JtYXQgcHJpY2VzIHVzaW5nIHRoZSBwcmljZSBmb3JtYXQgdXRpbGl0eVxuICAgICAgY29uc3QgZm9ybWF0dGVkSGlnaCA9IGZvcm1hdFByaWNlKGhpZ2gyNGgsIGN1cnJlbnRCYXNlVG9rZW4pO1xuICAgICAgY29uc3QgZm9ybWF0dGVkTG93ID0gZm9ybWF0UHJpY2UobG93MjRoLCBjdXJyZW50QmFzZVRva2VuKTtcblxuICAgICAgc2V0UHJpY2VTdGF0cyh7XG4gICAgICAgIGNoYW5nZTFoOiBjaGFuZ2UxaC50b0ZpeGVkKDIpLFxuICAgICAgICBjaGFuZ2UyNGg6IGNoYW5nZTI0aC50b0ZpeGVkKDIpLFxuICAgICAgICBjaGFuZ2U3ZDogY2hhbmdlN2QudG9GaXhlZCgyKSxcbiAgICAgICAgaGlnaDI0aDogZm9ybWF0dGVkSGlnaCxcbiAgICAgICAgbG93MjRoOiBmb3JtYXR0ZWRMb3dcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGRhdGluZyBwcmljZSBzdGF0czonLCBlcnJvcik7XG4gICAgfVxuICB9LCBbdG9rZW4sIGN1cnJlbnRCYXNlVG9rZW5dKTtcblxuICAvLyBGdW5jdGlvbiB0byBhZGQgc3RyYXRlZ3kgaW5kaWNhdG9yc1xuICBjb25zdCBhZGRTdHJhdGVneUluZGljYXRvcnMgPSB1c2VDYWxsYmFjaygoY2hhcnQ6IElDaGFydEFwaSwgZGF0YTogYW55W10pID0+IHtcbiAgICBpZiAoIWNoYXJ0KSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdDaGFydCBpcyBub3QgaW5pdGlhbGl6ZWQnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgLy8gQ2xlYXIgYW55IGV4aXN0aW5nIGluZGljYXRvcnNcbiAgICAgIGluZGljYXRvclNlcmllc1JlZnMuY3VycmVudC5mb3JFYWNoKHNlcmllcyA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKHNlcmllcyAmJiBjaGFydCkge1xuICAgICAgICAgICAgY2hhcnQucmVtb3ZlU2VyaWVzKHNlcmllcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcmVtb3Zpbmcgc2VyaWVzOicsIGUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGluZGljYXRvclNlcmllc1JlZnMuY3VycmVudC5jbGVhcigpO1xuXG4gICAgICBpZiAobWFya2VyU2VyaWVzUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjaGFydC5yZW1vdmVTZXJpZXMobWFya2VyU2VyaWVzUmVmLmN1cnJlbnQpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcmVtb3ZpbmcgbWFya2VyIHNlcmllczonLCBlKTtcbiAgICAgICAgfVxuICAgICAgICBtYXJrZXJTZXJpZXNSZWYuY3VycmVudCA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIGlmIChzdHJhdGVneSA9PT0gJ25vbmUnKSByZXR1cm47XG5cbiAgICAgIC8vIENhbGN1bGF0ZSBpbmRpY2F0b3JzIGJhc2VkIG9uIHN0cmF0ZWd5XG4gICAgICBjb25zdCBwcmljZXMgPSBkYXRhLm1hcChkID0+IGQuY2xvc2UpO1xuICAgICAgbGV0IGZhc3RMaW5lOiBudW1iZXJbXSA9IFtdO1xuICAgICAgbGV0IHNsb3dMaW5lOiBudW1iZXJbXSA9IFtdO1xuXG4gICAgICBzd2l0Y2ggKHN0cmF0ZWd5KSB7XG4gICAgICAgIGNhc2UgJ2VtYV9jcm9zc292ZXInOlxuICAgICAgICAgIGZhc3RMaW5lID0gY2FsY3VsYXRlRU1BKHByaWNlcywgOSk7XG4gICAgICAgICAgc2xvd0xpbmUgPSBjYWxjdWxhdGVFTUEocHJpY2VzLCAyMSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3NtYV9jcm9zc292ZXInOlxuICAgICAgICAgIGZhc3RMaW5lID0gY2FsY3VsYXRlU01BKHByaWNlcywgOSk7XG4gICAgICAgICAgc2xvd0xpbmUgPSBjYWxjdWxhdGVTTUEocHJpY2VzLCAyMSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3RlbWFfY3Jvc3NvdmVyJzpcbiAgICAgICAgICBmYXN0TGluZSA9IGNhbGN1bGF0ZVRFTUEocHJpY2VzLCA3KTtcbiAgICAgICAgICBzbG93TGluZSA9IGNhbGN1bGF0ZVRFTUEocHJpY2VzLCAyMSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2dvbGRlbl9jcm9zcyc6XG4gICAgICAgICAgZmFzdExpbmUgPSBjYWxjdWxhdGVTTUEocHJpY2VzLCA1MCk7XG4gICAgICAgICAgc2xvd0xpbmUgPSBjYWxjdWxhdGVTTUEocHJpY2VzLCAyMDApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdodWxsX2Nyb3Nzb3Zlcic6XG4gICAgICAgICAgZmFzdExpbmUgPSBjYWxjdWxhdGVITUEocHJpY2VzLCA5KTtcbiAgICAgICAgICBzbG93TGluZSA9IGNhbGN1bGF0ZUhNQShwcmljZXMsIDIxKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnZW1hXzVfMTMnOlxuICAgICAgICAgIGZhc3RMaW5lID0gY2FsY3VsYXRlRU1BKHByaWNlcywgNSk7XG4gICAgICAgICAgc2xvd0xpbmUgPSBjYWxjdWxhdGVFTUEocHJpY2VzLCAxMyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIC8vIEFkZCBpbmRpY2F0b3IgbGluZXNcbiAgICAgIGNvbnN0IHNlbGVjdGVkU3RyYXRlZ3kgPSBnZXRTdHJhdGVneShzdHJhdGVneSk7XG4gICAgICBpZiAoIXNlbGVjdGVkU3RyYXRlZ3kpIHJldHVybjtcblxuICAgICAgY29uc3QgY29sb3JzID0gWycjMjk2MkZGJywgJyNGRjZCNkInXTtcbiAgICAgIHNlbGVjdGVkU3RyYXRlZ3kuaW5kaWNhdG9ycy5mb3JFYWNoKChpbmRpY2F0b3IsIGluZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IGxpbmVTZXJpZXMgPSBjaGFydC5hZGRMaW5lU2VyaWVzKHtcbiAgICAgICAgICBjb2xvcjogY29sb3JzW2luZGV4XSxcbiAgICAgICAgICBsaW5lV2lkdGg6IDIsXG4gICAgICAgICAgdGl0bGU6IGluZGljYXRvci5uYW1lLFxuICAgICAgICAgIHByaWNlRm9ybWF0OiB7XG4gICAgICAgICAgICB0eXBlOiAncHJpY2UnLFxuICAgICAgICAgICAgcHJlY2lzaW9uOiBpc0JUQ1BhaXIoY3VycmVudEJhc2VUb2tlbikgPyA4IDogMixcbiAgICAgICAgICAgIG1pbk1vdmU6IGlzQlRDUGFpcihjdXJyZW50QmFzZVRva2VuKSA/IDAuMDAwMDAwMDEgOiAwLjAxLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBpbmRpY2F0b3JTZXJpZXNSZWZzLmN1cnJlbnQuc2V0KGluZGljYXRvci5uYW1lLCBsaW5lU2VyaWVzKTtcblxuICAgICAgICBjb25zdCBsaW5lRGF0YSA9IChpbmRleCA9PT0gMCA/IGZhc3RMaW5lIDogc2xvd0xpbmUpXG4gICAgICAgICAgLm1hcCgodmFsdWUsIGlkeCkgPT4gKHtcbiAgICAgICAgICAgIHRpbWU6IGRhdGFbaWR4XS50aW1lLFxuICAgICAgICAgICAgdmFsdWU6IGlzTmFOKHZhbHVlKSA/IG51bGwgOiB2YWx1ZVxuICAgICAgICAgIH0pKVxuICAgICAgICAgIC5maWx0ZXIoZCA9PiBkLnZhbHVlICE9PSBudWxsKTtcblxuICAgICAgICBsaW5lU2VyaWVzLnNldERhdGEobGluZURhdGEpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIEFkZCBjcm9zc292ZXIgc2lnbmFscyB3aXRoIG1hcmtlcnMsIHRleHQsIGFuZCB0cmlhbmdsZSBzaGFwZVxuICAgICAgY29uc3QgbWFya2VycyA9IFtdO1xuICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHByZXZGYXN0ID0gZmFzdExpbmVbaSAtIDFdO1xuICAgICAgICBjb25zdCBwcmV2U2xvdyA9IHNsb3dMaW5lW2kgLSAxXTtcbiAgICAgICAgY29uc3QgY3VyckZhc3QgPSBmYXN0TGluZVtpXTtcbiAgICAgICAgY29uc3QgY3VyclNsb3cgPSBzbG93TGluZVtpXTtcblxuICAgICAgICBpZiAoIWlzTmFOKHByZXZGYXN0KSAmJiAhaXNOYU4ocHJldlNsb3cpICYmICFpc05hTihjdXJyRmFzdCkgJiYgIWlzTmFOKGN1cnJTbG93KSkge1xuICAgICAgICAgIGlmIChwcmV2RmFzdCA8PSBwcmV2U2xvdyAmJiBjdXJyRmFzdCA+IGN1cnJTbG93KSB7XG4gICAgICAgICAgICBtYXJrZXJzLnB1c2goe1xuICAgICAgICAgICAgICB0aW1lOiBkYXRhW2ldLnRpbWUsXG4gICAgICAgICAgICAgIHBvc2l0aW9uOiAnYmVsb3dCYXInLFxuICAgICAgICAgICAgICBjb2xvcjogJyMyNmE2OWEnLFxuICAgICAgICAgICAgICBzaGFwZTogJ2Fycm93VXAnLFxuICAgICAgICAgICAgICB0ZXh0OiAnQnV5JyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSBpZiAocHJldkZhc3QgPj0gcHJldlNsb3cgJiYgY3VyckZhc3QgPCBjdXJyU2xvdykge1xuICAgICAgICAgICAgbWFya2Vycy5wdXNoKHtcbiAgICAgICAgICAgICAgdGltZTogZGF0YVtpXS50aW1lLFxuICAgICAgICAgICAgICBwb3NpdGlvbjogJ2Fib3ZlQmFyJyxcbiAgICAgICAgICAgICAgY29sb3I6ICcjZWY1MzUwJyxcbiAgICAgICAgICAgICAgc2hhcGU6ICdhcnJvd0Rvd24nLFxuICAgICAgICAgICAgICB0ZXh0OiAnU2VsbCcsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbWFya2VyU2VyaWVzUmVmLmN1cnJlbnQgPSBtYXJrZXJzO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhZGRpbmcgc3RyYXRlZ3kgaW5kaWNhdG9yczonLCBlcnJvcik7XG4gICAgfVxuICB9LCBbc3RyYXRlZ3ksIGN1cnJlbnRCYXNlVG9rZW5dKTtcblxuICAvLyBFZmZlY3QgZm9yIHN0cmF0ZWd5IGNoYW5nZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWNoYXJ0UmVmLmN1cnJlbnQgfHwgaGlzdG9yaWNhbERhdGFSZWYuY3VycmVudC5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIGFkZFN0cmF0ZWd5SW5kaWNhdG9ycyhjaGFydFJlZi5jdXJyZW50LCBoaXN0b3JpY2FsRGF0YVJlZi5jdXJyZW50KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgaW4gc3RyYXRlZ3kgY2hhbmdlIGVmZmVjdDonLCBlcnJvcik7XG4gICAgfVxuICB9LCBbc3RyYXRlZ3ksIGFkZFN0cmF0ZWd5SW5kaWNhdG9yc10pO1xuXG4gIC8vIE1haW4gY2hhcnQgaW5pdGlhbGl6YXRpb24gZWZmZWN0XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFjaGFydENvbnRhaW5lclJlZi5jdXJyZW50KSByZXR1cm47XG5cbiAgICBjb25zdCBjaGFydE9wdGlvbnM6IERlZXBQYXJ0aWFsPENoYXJ0T3B0aW9ucz4gPSB7XG4gICAgICBsYXlvdXQ6IHtcbiAgICAgICAgYmFja2dyb3VuZDogeyBjb2xvcjogJyMxRTIyMkQnIH0sXG4gICAgICAgIHRleHRDb2xvcjogJyNEREQnLFxuICAgICAgfSxcbiAgICAgIGdyaWQ6IHtcbiAgICAgICAgdmVydExpbmVzOiB7IGNvbG9yOiAnIzJCMkI0MycgfSxcbiAgICAgICAgaG9yekxpbmVzOiB7IGNvbG9yOiAnIzJCMkI0MycgfSxcbiAgICAgIH0sXG4gICAgICB0aW1lU2NhbGU6IHtcbiAgICAgICAgYm9yZGVyQ29sb3I6ICcjMkIyQjQzJyxcbiAgICAgICAgdGltZVZpc2libGU6IHRydWUsXG4gICAgICB9LFxuICAgICAgcmlnaHRQcmljZVNjYWxlOiB7XG4gICAgICAgIGJvcmRlckNvbG9yOiAnIzJCMkI0MycsXG4gICAgICAgIHZpc2libGU6IHRydWUsXG4gICAgICAgIHNjYWxlTWFyZ2luczoge1xuICAgICAgICAgIHRvcDogMC4xLFxuICAgICAgICAgIGJvdHRvbTogMC40LFxuICAgICAgICB9LFxuICAgICAgICBhdXRvU2NhbGU6IHRydWUsXG4gICAgICAgIG1vZGU6IDAsXG4gICAgICAgIGFsaWduTGFiZWxzOiB0cnVlLFxuICAgICAgICBib3JkZXJWaXNpYmxlOiB0cnVlLFxuICAgICAgICBlbnRpcmVUZXh0T25seTogdHJ1ZSxcbiAgICAgICAgdGlja3NWaXNpYmxlOiB0cnVlLFxuICAgICAgfSxcbiAgICAgIHdpZHRoOiBjaGFydENvbnRhaW5lclJlZi5jdXJyZW50LmNsaWVudFdpZHRoLFxuICAgICAgaGVpZ2h0OiBjaGFydENvbnRhaW5lclJlZi5jdXJyZW50LmNsaWVudEhlaWdodCxcbiAgICAgIGxvY2FsaXphdGlvbjoge1xuICAgICAgICBwcmljZUZvcm1hdHRlcjogKHByaWNlOiBudW1iZXIpID0+IGZvcm1hdFByaWNlKHByaWNlLCBjdXJyZW50QmFzZVRva2VuKSxcbiAgICAgIH0sXG4gICAgfTtcblxuICAgIGNvbnN0IGNoYXJ0ID0gY3JlYXRlQ2hhcnQoY2hhcnRDb250YWluZXJSZWYuY3VycmVudCwgY2hhcnRPcHRpb25zKTtcblxuICAgIC8vIENyZWF0ZSBjYW5kbGVzdGljayBzZXJpZXMgd2l0aCBwcmljZSBmb3JtYXRcbiAgICBjb25zdCBjYW5kbGVzdGlja1NlcmllcyA9IGNoYXJ0LmFkZENhbmRsZXN0aWNrU2VyaWVzKHtcbiAgICAgIHVwQ29sb3I6ICcjMjZhNjlhJyxcbiAgICAgIGRvd25Db2xvcjogJyNlZjUzNTAnLFxuICAgICAgYm9yZGVyVmlzaWJsZTogZmFsc2UsXG4gICAgICB3aWNrVXBDb2xvcjogJyMyNmE2OWEnLFxuICAgICAgd2lja0Rvd25Db2xvcjogJyNlZjUzNTAnLFxuICAgICAgcHJpY2VGb3JtYXQ6IHtcbiAgICAgICAgdHlwZTogJ3ByaWNlJyxcbiAgICAgICAgcHJlY2lzaW9uOiBpc0JUQ1BhaXIoY3VycmVudEJhc2VUb2tlbikgPyA4IDogMixcbiAgICAgICAgbWluTW92ZTogaXNCVENQYWlyKGN1cnJlbnRCYXNlVG9rZW4pID8gMC4wMDAwMDAwMSA6IDAuMDEsXG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgY2FuZGxlc3RpY2tTZXJpZXNSZWYuY3VycmVudCA9IGNhbmRsZXN0aWNrU2VyaWVzO1xuICAgIGNoYXJ0UmVmLmN1cnJlbnQgPSBjaGFydDtcblxuICAgIC8vIExvYWQgaW5pdGlhbCBkYXRhXG4gICAgY29uc3QgbG9hZERhdGEgPSBhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgZ2V0SGlzdG9yaWNhbERhdGEodGltZWZyYW1lLCB0b2tlbiwgY3VycmVudEJhc2VUb2tlbik7XG4gICAgICAgIGhpc3RvcmljYWxEYXRhUmVmLmN1cnJlbnQgPSBkYXRhO1xuICAgICAgICBcbiAgICAgICAgY2FuZGxlc3RpY2tTZXJpZXMuc2V0RGF0YShkYXRhKTtcbiAgICAgICAgdXBkYXRlUHJpY2VTdGF0cygpO1xuXG4gICAgICAgIC8vIFNldCB0aGUgY3VycmVudCBjYW5kbGUgcmVmZXJlbmNlIHRvIHRoZSBsYXN0IGNhbmRsZVxuICAgICAgICBpZiAoZGF0YS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgY3VycmVudENhbmRsZVJlZi5jdXJyZW50ID0gZGF0YVtkYXRhLmxlbmd0aCAtIDFdO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHN0cmF0ZWd5ICE9PSAnbm9uZScpIHtcbiAgICAgICAgICBhZGRTdHJhdGVneUluZGljYXRvcnMoY2hhcnQsIGRhdGEpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBsb2FkaW5nIGRhdGE6JywgZXJyb3IpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBsb2FkRGF0YSgpO1xuXG4gICAgLy8gUmVhbC10aW1lIHVwZGF0ZXNcbiAgICBjb25zdCB1bnN1YnNjcmliZSA9IHN1YnNjcmliZVRvUHJpY2UoKGRhdGEpID0+IHtcbiAgICAgIGlmICghY2FuZGxlc3RpY2tTZXJpZXNSZWYuY3VycmVudCkge1xuICAgICAgICBjb25zb2xlLndhcm4oJ0NhbmRsZXN0aWNrIHNlcmllcyBub3QgaW5pdGlhbGl6ZWQnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBVcGRhdGUgY3VycmVudCBwcmljZSBkaXNwbGF5IGltbWVkaWF0ZWx5XG4gICAgICBjb25zdCBmb3JtYXR0ZWRQcmljZSA9IGZvcm1hdFByaWNlKGRhdGEudmFsdWUsIGN1cnJlbnRCYXNlVG9rZW4pO1xuICAgICAgc2V0Q3VycmVudFByaWNlKGZvcm1hdHRlZFByaWNlKTtcblxuICAgICAgY29uc3QgaW50ZXJ2YWxTZWNvbmRzID0gZ2V0SW50ZXJ2YWxTZWNvbmRzKHRpbWVmcmFtZSk7XG4gICAgICBjb25zdCBjYW5kbGVUaW1lc3RhbXAgPSBNYXRoLmZsb29yKGRhdGEudGltZSAvIGludGVydmFsU2Vjb25kcykgKiBpbnRlcnZhbFNlY29uZHM7XG5cbiAgICAgIC8vIFVwZGF0ZSBjaGFydCBjYW5kbGVzXG4gICAgICBpZiAoIWN1cnJlbnRDYW5kbGVSZWYuY3VycmVudCB8fCBjYW5kbGVUaW1lc3RhbXAgIT09IGN1cnJlbnRDYW5kbGVSZWYuY3VycmVudC50aW1lKSB7XG4gICAgICAgIGlmIChjdXJyZW50Q2FuZGxlUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICBoaXN0b3JpY2FsRGF0YVJlZi5jdXJyZW50LnB1c2goY3VycmVudENhbmRsZVJlZi5jdXJyZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG5ld0NhbmRsZSA9IHtcbiAgICAgICAgICB0aW1lOiBjYW5kbGVUaW1lc3RhbXAgYXMgVVRDVGltZXN0YW1wLFxuICAgICAgICAgIG9wZW46IGRhdGEudmFsdWUsXG4gICAgICAgICAgaGlnaDogZGF0YS52YWx1ZSxcbiAgICAgICAgICBsb3c6IGRhdGEudmFsdWUsXG4gICAgICAgICAgY2xvc2U6IGRhdGEudmFsdWVcbiAgICAgICAgfTtcblxuICAgICAgICBjdXJyZW50Q2FuZGxlUmVmLmN1cnJlbnQgPSBuZXdDYW5kbGU7XG4gICAgICAgIGNhbmRsZXN0aWNrU2VyaWVzUmVmLmN1cnJlbnQudXBkYXRlKG5ld0NhbmRsZSk7XG5cbiAgICAgICAgaWYgKHN0cmF0ZWd5ICE9PSAnbm9uZScgJiYgY2hhcnRSZWYuY3VycmVudCkge1xuICAgICAgICAgIGFkZFN0cmF0ZWd5SW5kaWNhdG9ycyhjaGFydFJlZi5jdXJyZW50LCBoaXN0b3JpY2FsRGF0YVJlZi5jdXJyZW50KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgdXBkYXRlZENhbmRsZSA9IHtcbiAgICAgICAgICAuLi5jdXJyZW50Q2FuZGxlUmVmLmN1cnJlbnQsXG4gICAgICAgICAgaGlnaDogTWF0aC5tYXgoY3VycmVudENhbmRsZVJlZi5jdXJyZW50LmhpZ2gsIGRhdGEudmFsdWUpLFxuICAgICAgICAgIGxvdzogTWF0aC5taW4oY3VycmVudENhbmRsZVJlZi5jdXJyZW50LmxvdywgZGF0YS52YWx1ZSksXG4gICAgICAgICAgY2xvc2U6IGRhdGEudmFsdWVcbiAgICAgICAgfTtcblxuICAgICAgICBjdXJyZW50Q2FuZGxlUmVmLmN1cnJlbnQgPSB1cGRhdGVkQ2FuZGxlO1xuICAgICAgICBjYW5kbGVzdGlja1Nlcmllc1JlZi5jdXJyZW50LnVwZGF0ZSh1cGRhdGVkQ2FuZGxlKTtcbiAgICAgIH1cblxuICAgICAgLy8gVXBkYXRlIHByaWNlIHN0YXRzIHdpdGggYWxsIGF2YWlsYWJsZSBkYXRhXG4gICAgICBpZiAoaGlzdG9yaWNhbERhdGFSZWYuY3VycmVudC5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IGFsbERhdGEgPSBbLi4uaGlzdG9yaWNhbERhdGFSZWYuY3VycmVudF07XG4gICAgICAgIGlmIChjdXJyZW50Q2FuZGxlUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICBhbGxEYXRhLnB1c2goY3VycmVudENhbmRsZVJlZi5jdXJyZW50KTtcbiAgICAgICAgfVxuICAgICAgICB1cGRhdGVQcmljZVN0YXRzKCk7XG4gICAgICB9XG4gICAgfSwgdGltZWZyYW1lLCB0b2tlbiwgY3VycmVudEJhc2VUb2tlbik7XG5cbiAgICAvLyBIYW5kbGUgd2luZG93IHJlc2l6ZVxuICAgIGNvbnN0IGhhbmRsZVJlc2l6ZSA9ICgpID0+IHtcbiAgICAgIGlmIChjaGFydENvbnRhaW5lclJlZi5jdXJyZW50ICYmIGNoYXJ0UmVmLmN1cnJlbnQpIHtcbiAgICAgICAgY2hhcnRSZWYuY3VycmVudC5hcHBseU9wdGlvbnMoe1xuICAgICAgICAgIHdpZHRoOiBjaGFydENvbnRhaW5lclJlZi5jdXJyZW50LmNsaWVudFdpZHRoLFxuICAgICAgICAgIGhlaWdodDogY2hhcnRDb250YWluZXJSZWYuY3VycmVudC5jbGllbnRIZWlnaHQsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgaGFuZGxlUmVzaXplKTtcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgaGFuZGxlUmVzaXplKTtcbiAgICAgIHVuc3Vic2NyaWJlKCk7XG4gICAgICBcbiAgICAgIGlmIChjaGFydFJlZi5jdXJyZW50KSB7XG4gICAgICAgIGluZGljYXRvclNlcmllc1JlZnMuY3VycmVudC5mb3JFYWNoKHNlcmllcyA9PiB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNoYXJ0UmVmLmN1cnJlbnQ/LnJlbW92ZVNlcmllcyhzZXJpZXMpO1xuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHJlbW92aW5nIGluZGljYXRvciBzZXJpZXMgZHVyaW5nIGNsZWFudXA6JywgZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaW5kaWNhdG9yU2VyaWVzUmVmcy5jdXJyZW50LmNsZWFyKCk7XG4gICAgICAgIFxuICAgICAgICBpZiAobWFya2VyU2VyaWVzUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgY2hhcnRSZWYuY3VycmVudC5yZW1vdmVTZXJpZXMobWFya2VyU2VyaWVzUmVmLmN1cnJlbnQpO1xuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHJlbW92aW5nIG1hcmtlciBzZXJpZXMgZHVyaW5nIGNsZWFudXA6JywgZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1hcmtlclNlcmllc1JlZi5jdXJyZW50ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgY2hhcnQucmVtb3ZlKCk7XG4gICAgICB9XG4gICAgfTtcbiAgfSwgW3RpbWVmcmFtZSwgY3VycmVudEJhc2VUb2tlbiwgc3RyYXRlZ3ksIHRva2VuLCB1cGRhdGVQcmljZVN0YXRzLCBhZGRTdHJhdGVneUluZGljYXRvcnNdKTtcblxuICAvLyBFbnN1cmUgbWFya2VycyBhcmUgc2V0IG9uIHRoZSBjYW5kbGVzdGljayBzZXJpZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoY2FuZGxlc3RpY2tTZXJpZXNSZWYuY3VycmVudCAmJiBtYXJrZXJTZXJpZXNSZWYuY3VycmVudCkge1xuICAgICAgY2FuZGxlc3RpY2tTZXJpZXNSZWYuY3VycmVudC5zZXRNYXJrZXJzKG1hcmtlclNlcmllc1JlZi5jdXJyZW50KTtcbiAgICB9XG4gIH0sIFttYXJrZXJTZXJpZXNSZWYuY3VycmVudF0pO1xuXG4gIC8vIEhlbHBlciBmdW5jdGlvbiB0byBjYWxjdWxhdGUgaW5kaWNhdG9yc1xuICBjb25zdCBjYWxjdWxhdGVJbmRpY2F0b3IgPSAocHJpY2VzOiBudW1iZXJbXSwgdHlwZTogc3RyaW5nLCBwZXJpb2Q6IG51bWJlcikgPT4ge1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSAnZW1hJzpcbiAgICAgICAgcmV0dXJuIGNhbGN1bGF0ZUVNQShwcmljZXMsIHBlcmlvZCk7XG4gICAgICBjYXNlICdzbWEnOlxuICAgICAgICByZXR1cm4gY2FsY3VsYXRlU01BKHByaWNlcywgcGVyaW9kKTtcbiAgICAgIGNhc2UgJ3RlbWEnOlxuICAgICAgICByZXR1cm4gY2FsY3VsYXRlVEVNQShwcmljZXMsIHBlcmlvZCk7XG4gICAgICBjYXNlICdobWEnOlxuICAgICAgICByZXR1cm4gY2FsY3VsYXRlSE1BKHByaWNlcywgcGVyaW9kKTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgdy1mdWxsIGgtZnVsbFwiPlxuICAgICAgPFRpY2tlckhlYWRlclxuICAgICAgICB0b2tlbj17dG9rZW59XG4gICAgICAgIGJhc2VUb2tlbj17Y3VycmVudEJhc2VUb2tlbn1cbiAgICAgICAgZXhjaGFuZ2U9e3NlbGVjdGVkRXhjaGFuZ2V9XG4gICAgICAgIGN1cnJlbnRQcmljZT17Y3VycmVudFByaWNlfVxuICAgICAgICBwcmljZVN0YXRzPXtwcmljZVN0YXRzfVxuICAgICAgICBvbkV4Y2hhbmdlQ2hhbmdlPXtzZXRTZWxlY3RlZEV4Y2hhbmdlfVxuICAgICAgICBvblBhaXJDaGFuZ2U9e2hhbmRsZVBhaXJDaGFuZ2V9XG4gICAgICAvPlxuICAgICAgPGRpdiByZWY9e2NoYXJ0Q29udGFpbmVyUmVmfSBjbGFzc05hbWU9XCJmbGV4LTFcIiAvPlxuICAgIDwvZGl2PlxuICApO1xufSAiXSwibmFtZXMiOlsidXNlRWZmZWN0IiwidXNlUmVmIiwidXNlU3RhdGUiLCJ1c2VDYWxsYmFjayIsImNyZWF0ZUNoYXJ0IiwiZ2V0SGlzdG9yaWNhbERhdGEiLCJzdWJzY3JpYmVUb1ByaWNlIiwiZ2V0U3RyYXRlZ3kiLCJjYWxjdWxhdGVFTUEiLCJjYWxjdWxhdGVTTUEiLCJjYWxjdWxhdGVURU1BIiwiY2FsY3VsYXRlSE1BIiwiVGlja2VySGVhZGVyIiwiZm9ybWF0UHJpY2UiLCJpc0JUQ1BhaXIiLCJnZXRJbnRlcnZhbFNlY29uZHMiLCJ0ZiIsIkNhbmRsZXN0aWNrQ2hhcnQiLCJ0aW1lZnJhbWUiLCJzdHJhdGVneSIsInRva2VuIiwiYmFzZVRva2VuIiwiZXhjaGFuZ2UiLCJvblBhaXJDaGFuZ2UiLCJzaWduYWxzIiwic2VsZWN0ZWRFeGNoYW5nZSIsInNldFNlbGVjdGVkRXhjaGFuZ2UiLCJjdXJyZW50QmFzZVRva2VuIiwic2V0Q3VycmVudEJhc2VUb2tlbiIsImN1cnJlbnRQcmljZSIsInNldEN1cnJlbnRQcmljZSIsInByaWNlU3RhdHMiLCJzZXRQcmljZVN0YXRzIiwiY2hhbmdlMWgiLCJjaGFuZ2UyNGgiLCJjaGFuZ2U3ZCIsImhpZ2gyNGgiLCJsb3cyNGgiLCJjaGFydENvbnRhaW5lclJlZiIsImNoYXJ0UmVmIiwiY2FuZGxlc3RpY2tTZXJpZXNSZWYiLCJpbmRpY2F0b3JTZXJpZXNSZWZzIiwiTWFwIiwibWFya2VyU2VyaWVzUmVmIiwiaGlzdG9yaWNhbERhdGFSZWYiLCJjdXJyZW50Q2FuZGxlUmVmIiwibGFzdFNpZ25hbFJlZiIsImhhbmRsZVBhaXJDaGFuZ2UiLCJuZXdUb2tlbiIsIm5ld0Jhc2VUb2tlbiIsInVwZGF0ZVByaWNlU3RhdHMiLCJtaW51dGVEYXRhIiwibGVuZ3RoIiwiY2xvc2UiLCJjdXJyZW50VGltZSIsIk1hdGgiLCJmbG9vciIsIkRhdGUiLCJub3ciLCJvbmVIb3VyQWdvIiwidHdlbnR5Rm91ckhvdXJzQWdvIiwic2V2ZW5EYXlzQWdvIiwibGFzdDFoIiwiZmlsdGVyIiwiZCIsInRpbWUiLCJsYXN0MjRoIiwibGFzdDdkIiwibWF4IiwibWFwIiwiaGlnaCIsIm1pbiIsImxvdyIsImdldFBlcmNlbnRDaGFuZ2UiLCJwZXJpb2REYXRhIiwib2xkUHJpY2UiLCJmb3JtYXR0ZWRIaWdoIiwiZm9ybWF0dGVkTG93IiwidG9GaXhlZCIsImVycm9yIiwiY29uc29sZSIsImFkZFN0cmF0ZWd5SW5kaWNhdG9ycyIsImNoYXJ0IiwiZGF0YSIsImN1cnJlbnQiLCJmb3JFYWNoIiwic2VyaWVzIiwicmVtb3ZlU2VyaWVzIiwiZSIsImNsZWFyIiwicHJpY2VzIiwiZmFzdExpbmUiLCJzbG93TGluZSIsInNlbGVjdGVkU3RyYXRlZ3kiLCJjb2xvcnMiLCJpbmRpY2F0b3JzIiwiaW5kaWNhdG9yIiwiaW5kZXgiLCJsaW5lU2VyaWVzIiwiYWRkTGluZVNlcmllcyIsImNvbG9yIiwibGluZVdpZHRoIiwidGl0bGUiLCJuYW1lIiwicHJpY2VGb3JtYXQiLCJ0eXBlIiwicHJlY2lzaW9uIiwibWluTW92ZSIsInNldCIsImxpbmVEYXRhIiwidmFsdWUiLCJpZHgiLCJpc05hTiIsInNldERhdGEiLCJtYXJrZXJzIiwiaSIsInByZXZGYXN0IiwicHJldlNsb3ciLCJjdXJyRmFzdCIsImN1cnJTbG93IiwicHVzaCIsInBvc2l0aW9uIiwic2hhcGUiLCJ0ZXh0IiwiY2hhcnRPcHRpb25zIiwibGF5b3V0IiwiYmFja2dyb3VuZCIsInRleHRDb2xvciIsImdyaWQiLCJ2ZXJ0TGluZXMiLCJob3J6TGluZXMiLCJ0aW1lU2NhbGUiLCJib3JkZXJDb2xvciIsInRpbWVWaXNpYmxlIiwicmlnaHRQcmljZVNjYWxlIiwidmlzaWJsZSIsInNjYWxlTWFyZ2lucyIsInRvcCIsImJvdHRvbSIsImF1dG9TY2FsZSIsIm1vZGUiLCJhbGlnbkxhYmVscyIsImJvcmRlclZpc2libGUiLCJlbnRpcmVUZXh0T25seSIsInRpY2tzVmlzaWJsZSIsIndpZHRoIiwiY2xpZW50V2lkdGgiLCJoZWlnaHQiLCJjbGllbnRIZWlnaHQiLCJsb2NhbGl6YXRpb24iLCJwcmljZUZvcm1hdHRlciIsInByaWNlIiwiY2FuZGxlc3RpY2tTZXJpZXMiLCJhZGRDYW5kbGVzdGlja1NlcmllcyIsInVwQ29sb3IiLCJkb3duQ29sb3IiLCJ3aWNrVXBDb2xvciIsIndpY2tEb3duQ29sb3IiLCJsb2FkRGF0YSIsInVuc3Vic2NyaWJlIiwid2FybiIsImZvcm1hdHRlZFByaWNlIiwiaW50ZXJ2YWxTZWNvbmRzIiwiY2FuZGxlVGltZXN0YW1wIiwibmV3Q2FuZGxlIiwib3BlbiIsInVwZGF0ZSIsInVwZGF0ZWRDYW5kbGUiLCJhbGxEYXRhIiwiaGFuZGxlUmVzaXplIiwiYXBwbHlPcHRpb25zIiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJyZW1vdmUiLCJzZXRNYXJrZXJzIiwiY2FsY3VsYXRlSW5kaWNhdG9yIiwicGVyaW9kIiwiZGl2IiwiY2xhc3NOYW1lIiwib25FeGNoYW5nZUNoYW5nZSIsInJlZiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/Chart/CandlestickChart.tsx\n"));

/***/ })

});